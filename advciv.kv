<NationSelector@GridLayout>:
    rows: 9
    cols: 1
    pos: (map_scatter.size[0]*19.0/4058.0, map_scatter.size[1]*22.0/2910.0)
    size: (map_scatter.size[0]*180.0/4058.0, map_scatter.size[1]*600.0/2910.0)
    Button:
        text: "Africa"
        on_pressed: app.active_nation = "Africa"
    Button:
        text: "Italy"
        on_pressed: app.active_nation = "Italy"
    
<AstTokenWidget>:
    canvas:
        Color:
            rgba: tuple([x/255 for x in self.color] + [.99])
        Rectangle:
            pos: self.pos
            size: self.size

<AdvCivWidget>:
    map_scatter: map_scatter
    active_nation: 'from kv'
	MapScatter:
		id: map_scatter
		Image:
			id: map
			source: 'civ_board.png'
			allow_stretch: True
			keep_ratio: False
			size: root.size
			Scatter:
				do_rotation: False
				do_scale: False
				size: token_spotter.size
				Spotter:
					id: token_spotter
					text: 'X'
					font_size: 15
					size: map.size[0]/68, map.size[1]/48.7
					canvas.before:
						Color:
							rgba: tuple([x/255 for x in [186, 96, 41]] + [.8])
						Rectangle:
							pos: self.pos
							size: self.size
            GridLayout:
                rows: 10
                cols: 1
                pos: (map_scatter.size[0]*19.0/4058.0, map_scatter.size[1]*22.0/2910.0)
                size: (map_scatter.size[0]*180.0/4058.0, map_scatter.size[1]*600.0/2910.0)
                NationButton:
                    text: "Africa"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Italy"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Illyria"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Thrace"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Crete"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Asia"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Assyria"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Babylon"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Egypt"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
                NationButton:
                    text: "Phoenecia"
                    color: (0, 0, 0, .01)
                    background_color: app.rgba_tuple((186, 96, 41), .01)
			AstTokenWidget:
				id: africa_ast
                color: [186, 96, 41]
                track: 9
			AstTokenWidget:
				id: italy_ast
                color: [252, 0, 0]
                track: 8
			AstTokenWidget:
				id: illyria_ast
                color: [245, 239, 7]
                track: 7
			AstTokenWidget:
				id: thrace_ast
                color: [67, 177, 30]
                track: 6
			AstTokenWidget:
				id: crete_ast
                color: [102, 201, 29]
                track: 5
			AstTokenWidget:
				id: asia_ast
                color: [243, 146, 51]
                track: 4
			AstTokenWidget:
				id: assyria_ast
                color: [61, 185, 209]
                track: 3
			AstTokenWidget:
				id: babylon_ast
                color: [145, 245, 244]
                track: 2
			AstTokenWidget:
				id: egypt_ast
                color: [212, 198, 137]
                track: 1
			AstTokenWidget:
				id: phoenecia_ast
                color: [155, 10, 180]
                track: 0
            GridLayout:
                id: gl
                size: (map.size[0]*1703.0/4058.0, map.size[1]*821.0/2910.0)
                pos: (map_scatter.size[0]*1662.0/4058.0, map_scatter.size[1]*3.0/2910.0)
                cols: 1
                row_default_height: self.size[1]/8
                GridLayout:
                    id: gl2
                    size_hint_y: None
                    height: gl.size[1]/8
                    rows: 1
                    Button:
                        text: "Turn Order"
                        on_press: sm.current = "Turn Order"
                    Button:
                        text: "Civ Card Credits"
                        on_press: sm.current = "Civ Card Credits"
                    Button:
                        text: "Trade Cards"
                        on_press: sm.current = "Trade Cards"
                ScreenManager:
                    id: sm
                    TurnOrderScreen:
                    Screen:
                        id: screen2
                        name: "Civ Card Credits"
                    Screen:
                        id: screen3
                        name: "Trade Cards"
                        GridLayout:
                            cols: 3
                            Label:
                                color: (0, 0, 0, 1)
                                text: app.active_nation
                                canvas.before:
                                    Color: 
                                        rgba: app.rgba_tuple((248, 212, 128), 1)
                                    Rectangle:
			                            pos: (0, 0)
                                        size: sm.size

                    
