<AstTokenWidget>:
    size_hint: (root.target_size/4058.0,root.target_size/2910.0)
    pos_hint: {'x': (208 + self.ast*60)/4058.0, 'y': (28 + self.track*60)/2910.0}
    canvas:
        Color:
            rgba: tuple([x/255 for x in self.color] + [.99])
        Rectangle:
            pos: self.pos
            size: self.size

<NationSelector@GridLayout>:
    cols: 1
    rows: 10
    pos_hint: {'x': 19.0/4058.0, 'y': 22.0/2910.0}
    size_hint: (180.0/4058.0, 600.0/2910.0)
    NationButton:
        text: "Africa"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Italy"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Illyria"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Thrace"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Crete"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Asia"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Assyria"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Babylon"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Egypt"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)
    NationButton:
        text: "Phoenecia"
        color: (0, 0, 0, .01)
        background_color: app.rgba_tuple((186, 96, 41), .01)

<UnitToken>:
    # Define the properties for the DragLabel
    drag_rectangle: self.x, self.y, self.width, self.height
    drag_timeout: 10000000
    drag_distance: 0
    canvas.before:
        Color:
            rgba: tuple([x/255 for x in root.nation_color] + [.8])
        Rectangle:
            pos: self.pos
            size: self.size

<AdvCivWidget>:
    map_scatter: map_scatter
    active_nation: 'from kv'
	MapScatter:
		id: map_scatter
		Image:
			id: map
			source: 'civ_board.png'
			allow_stretch: True
			keep_ratio: False
			size: root.size
			Scatter:
				do_rotation: False
				do_scale: False
				size: token_spotter.size
				Spotter:
					id: token_spotter
					text: 'X'
					font_size: 15
					size: map.size[0]/68, map.size[1]/48.7
					canvas.before:
						Color:
							rgba: tuple([x/255 for x in [186, 96, 41]] + [.8])
						Rectangle:
							pos: self.pos
							size: self.size
        FloatLayout:
            id: fl
            size: map_scatter.size
            pos: (0,0)
            UnitWidget:
				text: '2'
				font_size: 15
				size_hint: (60/4058, 60/2910)
                pos: (100,100)
            NationSelector:
		    AstTokenWidget:
			    id: africa_ast
                color: [186, 96, 41]
                track: 9
		    AstTokenWidget:
			    id: italy_ast
                color: [252, 0, 0]
                track: 8
		    AstTokenWidget:
			    id: illyria_ast
                color: [245, 239, 7]
                track: 7
		    AstTokenWidget:
			    id: thrace_ast
                color: [67, 177, 30]
                track: 6
		    AstTokenWidget:
			    id: crete_ast
                color: [102, 201, 29]
                track: 5
		    AstTokenWidget:
			    id: asia_ast
                color: [243, 146, 51]
                track: 4
		    AstTokenWidget:
			    id: assyria_ast
                color: [61, 185, 209]
                track: 3
		    AstTokenWidget:
			    id: babylon_ast
                color: [145, 245, 244]
                track: 2
		    AstTokenWidget:
			    id: egypt_ast
                color: [212, 198, 137]
                track: 1
		    AstTokenWidget:
			    id: phoenecia_ast
                color: [155, 10, 180]
                track: 0
            GridLayout:
                id: gl
                size_hint: (1703.0/4058.0, 821.0/2910.0)
                pos_hint: {'x': 1662.0/4058.0, 'y': 3.0/2910.0}
                cols: 1
                row_default_height: self.size[1]/8
                GridLayout:
                    id: gl2
                    size_hint_y: None
                    height: gl.size[1]/8
                    rows: 1
                    Button:
                        text: "Turn Order"
                        on_press: sm.current = "Turn Order"
                    Button:
                        text: "Civ Card Credits"
                        on_press: sm.current = "Civ Card Credits"
                    Button:
                        text: "Trade Cards"
                        on_press: sm.current = "Trade Cards"
                ScreenManager:
                    id: sm
                    TurnOrderScreen:
                    Screen:
                        id: screen2
                        name: "Civ Card Credits"
                    Screen:
                        id: screen3
                        name: "Trade Cards"
                        GridLayout:
                            cols: 3
                            Label:
                                color: (0, 0, 0, 1)
                                text: app.active_nation
                                canvas.before:
                                    Color: 
                                        rgba: app.rgba_tuple((248, 212, 128), 1)
                                    Rectangle:
		                                pos: (0, 0)
                                        size: sm.size

                    
